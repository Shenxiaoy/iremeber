<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>lock</title>
    <style>
        #cc {
            border: 1px solid darkblue;
        }
        .box {
            margin-left: 200px;
            font-family: 方正姚体;
        }
        #btn {
            display: inline-block;

        }
    </style>
</head>
<body>
<div class="box">
    <canvas id="cc" width="300" height="300">
    </canvas>
    <button id="btn">生成图片</button>
    <a id="download" download="ok" href="./img/sure.png">下载</a>
</div>
<div>
    <img id="img1" src="" alt="">
</div>
<script src="./js/fabric.js"></script>
<script>
    var img1 = document.getElementById('img1')
    var btn = document.getElementById('btn')
    var download = document.getElementById('download')
    var cc = new fabric.Canvas('cc')
    cc.selection = true
    console.log(cc)
    var circle = new fabric.Circle({
        left: 100,
        top: 20,
        radius: 50
    });

    circle.setGradient('fill', {
        x1: 0,
        y1: 0,
        x2: 0,
        y2: circle.height,
        colorStops: {
            0: '#000',
            1: '#fff'
        }
    });

//    cc.add(circle);
    var text = new fabric.Text('流浪的剑客', {
        left: 100,
        top: 160,
        fontFamily: '方正姚体',
        fontSize: 20,
        fontWeight: 10,
        background: 'red',
        underline: true,       //下划线
//        linethrough: true,     //删除线
//        overline: true,        //上划线
    });
//    cc.add(text)

    var text1 = new fabric.Textbox('text', {
        left: 30,
        top: 30,
        width: 100,
        fontSize: 20
    })

    var rect = new fabric.Rect({
        width: 50,
        height: 50,
        left: 200,
        top: 200,
        fill: 'green',
        perPixelTargetFind: true
    })
    cc.add(text1, rect)


    btn.onclick = function() {
        var imgurl = cc.toDataURL('jpg')
        img1.src = imgurl
        download.href = imgurl
        download.download = 'canvas'
    }



</script>
</body>
</html>